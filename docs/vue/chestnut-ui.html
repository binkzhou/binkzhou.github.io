<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.常见组件封装 | 我的笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/docs/assets/css/0.styles.52bb2005.css" as="style"><link rel="preload" href="/docs/assets/js/app.7890f91e.js" as="script"><link rel="preload" href="/docs/assets/js/2.a8bc3a53.js" as="script"><link rel="preload" href="/docs/assets/js/25.9c3e07da.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.6d1a44dc.js"><link rel="prefetch" href="/docs/assets/js/11.88b33277.js"><link rel="prefetch" href="/docs/assets/js/12.d888dad3.js"><link rel="prefetch" href="/docs/assets/js/13.f4b320f4.js"><link rel="prefetch" href="/docs/assets/js/14.affc25d2.js"><link rel="prefetch" href="/docs/assets/js/15.f3f21810.js"><link rel="prefetch" href="/docs/assets/js/16.20cfbcd3.js"><link rel="prefetch" href="/docs/assets/js/17.8fa60e8f.js"><link rel="prefetch" href="/docs/assets/js/18.220db854.js"><link rel="prefetch" href="/docs/assets/js/19.c6db72e7.js"><link rel="prefetch" href="/docs/assets/js/20.121df49a.js"><link rel="prefetch" href="/docs/assets/js/21.b9b44369.js"><link rel="prefetch" href="/docs/assets/js/22.a7d81dee.js"><link rel="prefetch" href="/docs/assets/js/23.05a4db07.js"><link rel="prefetch" href="/docs/assets/js/24.0e35ee22.js"><link rel="prefetch" href="/docs/assets/js/26.6dcfef0f.js"><link rel="prefetch" href="/docs/assets/js/27.6ad8c329.js"><link rel="prefetch" href="/docs/assets/js/28.6b5d3991.js"><link rel="prefetch" href="/docs/assets/js/29.407c6de9.js"><link rel="prefetch" href="/docs/assets/js/3.3ddcfe9a.js"><link rel="prefetch" href="/docs/assets/js/30.34551e96.js"><link rel="prefetch" href="/docs/assets/js/31.47783344.js"><link rel="prefetch" href="/docs/assets/js/32.c6f4cea4.js"><link rel="prefetch" href="/docs/assets/js/33.03d5e501.js"><link rel="prefetch" href="/docs/assets/js/34.0ca4e267.js"><link rel="prefetch" href="/docs/assets/js/35.e999eeee.js"><link rel="prefetch" href="/docs/assets/js/36.544af633.js"><link rel="prefetch" href="/docs/assets/js/37.9e0cc013.js"><link rel="prefetch" href="/docs/assets/js/38.1c3df97c.js"><link rel="prefetch" href="/docs/assets/js/39.9ce8a5f7.js"><link rel="prefetch" href="/docs/assets/js/4.72d66176.js"><link rel="prefetch" href="/docs/assets/js/40.323e7e25.js"><link rel="prefetch" href="/docs/assets/js/41.9440b8ee.js"><link rel="prefetch" href="/docs/assets/js/42.959d789d.js"><link rel="prefetch" href="/docs/assets/js/43.1a427e6d.js"><link rel="prefetch" href="/docs/assets/js/44.9adaa5b6.js"><link rel="prefetch" href="/docs/assets/js/45.b70993ab.js"><link rel="prefetch" href="/docs/assets/js/46.bc570f17.js"><link rel="prefetch" href="/docs/assets/js/47.954dd27f.js"><link rel="prefetch" href="/docs/assets/js/48.72d2a29d.js"><link rel="prefetch" href="/docs/assets/js/49.7ddfd074.js"><link rel="prefetch" href="/docs/assets/js/5.5087e4f8.js"><link rel="prefetch" href="/docs/assets/js/50.2684a6e6.js"><link rel="prefetch" href="/docs/assets/js/51.00572c60.js"><link rel="prefetch" href="/docs/assets/js/52.5a70be73.js"><link rel="prefetch" href="/docs/assets/js/53.9f6156b6.js"><link rel="prefetch" href="/docs/assets/js/54.9efed889.js"><link rel="prefetch" href="/docs/assets/js/55.78300585.js"><link rel="prefetch" href="/docs/assets/js/56.e33be804.js"><link rel="prefetch" href="/docs/assets/js/57.0c404d88.js"><link rel="prefetch" href="/docs/assets/js/58.2f99406b.js"><link rel="prefetch" href="/docs/assets/js/59.b7a3347e.js"><link rel="prefetch" href="/docs/assets/js/6.7a9273f7.js"><link rel="prefetch" href="/docs/assets/js/60.f14f3fe9.js"><link rel="prefetch" href="/docs/assets/js/61.f770fcc5.js"><link rel="prefetch" href="/docs/assets/js/62.9a22eb9a.js"><link rel="prefetch" href="/docs/assets/js/63.94b2ea39.js"><link rel="prefetch" href="/docs/assets/js/64.e2bf811b.js"><link rel="prefetch" href="/docs/assets/js/65.74d494f9.js"><link rel="prefetch" href="/docs/assets/js/66.a375bb32.js"><link rel="prefetch" href="/docs/assets/js/67.3c201101.js"><link rel="prefetch" href="/docs/assets/js/68.f2c6c1f4.js"><link rel="prefetch" href="/docs/assets/js/69.268faa44.js"><link rel="prefetch" href="/docs/assets/js/7.1a3a696f.js"><link rel="prefetch" href="/docs/assets/js/70.6f4df6a6.js"><link rel="prefetch" href="/docs/assets/js/71.37964dc5.js"><link rel="prefetch" href="/docs/assets/js/72.eef27e2e.js"><link rel="prefetch" href="/docs/assets/js/73.d7a9dbd9.js"><link rel="prefetch" href="/docs/assets/js/74.f2040aa6.js"><link rel="prefetch" href="/docs/assets/js/75.9f939c37.js"><link rel="prefetch" href="/docs/assets/js/76.b1358302.js"><link rel="prefetch" href="/docs/assets/js/77.83a2c6b3.js"><link rel="prefetch" href="/docs/assets/js/78.34149b3d.js"><link rel="prefetch" href="/docs/assets/js/79.fde21713.js"><link rel="prefetch" href="/docs/assets/js/8.9fb3aa96.js"><link rel="prefetch" href="/docs/assets/js/80.6461e24e.js"><link rel="prefetch" href="/docs/assets/js/81.e6c53d45.js"><link rel="prefetch" href="/docs/assets/js/82.19506b41.js"><link rel="prefetch" href="/docs/assets/js/83.b39f337e.js"><link rel="prefetch" href="/docs/assets/js/84.6dae4be4.js"><link rel="prefetch" href="/docs/assets/js/85.862470ad.js"><link rel="prefetch" href="/docs/assets/js/86.6121868f.js"><link rel="prefetch" href="/docs/assets/js/87.7c0c10bf.js"><link rel="prefetch" href="/docs/assets/js/88.24fd0017.js"><link rel="prefetch" href="/docs/assets/js/9.24bd0981.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.52bb2005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">我的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/javascrip/" class="nav-link">
  JavaScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/typescrip/" class="nav-link">
  TypeScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/hook/" class="nav-link">
  Hook
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/docs/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/j2ee/" class="nav-link">
  J2EE
</a></li><li class="dropdown-item"><!----> <a href="/docs/ssm/" class="nav-link">
  SSM
</a></li></ul></div></div><div class="nav-item"><a href="/docs/efficiency/1.常用网站.html" class="nav-link">
  随记
</a></div><div class="nav-item"><a href="/docs/collection/1.立即执行函数.html" class="nav-link">
  收藏
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/javascrip/" class="nav-link">
  JavaScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/typescrip/" class="nav-link">
  TypeScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/hook/" class="nav-link">
  Hook
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/docs/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/j2ee/" class="nav-link">
  J2EE
</a></li><li class="dropdown-item"><!----> <a href="/docs/ssm/" class="nav-link">
  SSM
</a></li></ul></div></div><div class="nav-item"><a href="/docs/efficiency/1.常用网站.html" class="nav-link">
  随记
</a></div><div class="nav-item"><a href="/docs/collection/1.立即执行函数.html" class="nav-link">
  收藏
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/vue/" aria-current="page" class="sidebar-link">vue基础</a></li><li><a href="/docs/vue/comp.html" class="sidebar-link">组件</a></li><li><a href="/docs/vue/router.html" class="sidebar-link">路由</a></li><li><a href="/docs/vue/vuex.html" class="sidebar-link">vuex</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-常见组件封装"><a href="#_1-常见组件封装" class="header-anchor">#</a> 1.常见组件封装</h2> <h3 id="_1-1-项目初始化"><a href="#_1-1-项目初始化" class="header-anchor">#</a> 1.1 项目初始化</h3> <p>使用vue-cli脚手架快速搭建一个vue项目</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 选择scss babel 和 eslint</span>
vue create chestnut<span class="token operator">-</span>ui
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code>? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project:
 <span class="token punctuation">(</span>*<span class="token punctuation">)</span> Choose Vue version
 <span class="token punctuation">(</span>*<span class="token punctuation">)</span> Babel
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> TypeScript
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Progressive Web App <span class="token punctuation">(</span>PWA<span class="token punctuation">)</span> Support
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Router
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Vuex
<span class="token operator">&gt;</span><span class="token punctuation">(</span>*<span class="token punctuation">)</span> CSS Pre-processors
 <span class="token punctuation">(</span>*<span class="token punctuation">)</span> Linter / Formatter
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Unit Testing
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> E2E Testing  
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&gt; Sass/SCSS (with dart-sass)
  Sass/SCSS (with node-sass)
  Less
  Stylus 
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>  ESLint with error prevention only
  ESLint + Airbnb config
&gt; ESLint + Standard config
  ESLint + Prettier 
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>  In dedicated config files
&gt; In package.json  
</code></pre></div><p>启动项目</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> chestnut-ui
<span class="token function">yarn</span> serve
</code></pre></div><h3 id="_1-2-button组件"><a href="#_1-2-button组件" class="header-anchor">#</a> 1.2 button组件</h3> <h4 id="_1-2-1-前置知识"><a href="#_1-2-1-前置知识" class="header-anchor">#</a> 1.2.1 前置知识</h4> <div class="language- extra-class"><pre class="language-text"><code>组件通讯
组件插槽
props校验
</code></pre></div><h4 id="_1-2-2-参数支持"><a href="#_1-2-2-参数支持" class="header-anchor">#</a> 1.2.2 参数支持</h4> <table><thead><tr><th style="text-align:left;">参数名</th> <th style="text-align:left;">参数描述</th> <th style="text-align:left;">参数类型</th> <th style="text-align:left;">默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">type</td> <td style="text-align:left;">按钮类型（primary/success/warning/danger/info）</td> <td style="text-align:left;">string</td> <td style="text-align:left;">default</td></tr> <tr><td style="text-align:left;">plain</td> <td style="text-align:left;">是否是朴素按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">round</td> <td style="text-align:left;">是否是圆角按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">circle</td> <td style="text-align:left;">是否是圆形按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">disabled</td> <td style="text-align:left;">是否禁用按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">icon</td> <td style="text-align:left;">图标类名</td> <td style="text-align:left;">string</td> <td style="text-align:left;">无</td></tr></tbody></table> <p>事件支持：</p> <table><thead><tr><th style="text-align:left;">事件名</th> <th style="text-align:left;">事件描述</th></tr></thead> <tbody><tr><td style="text-align:left;">click</td> <td style="text-align:left;">点击事件</td></tr></tbody></table> <h4 id="_1-2-3-基本结构"><a href="#_1-2-3-基本结构" class="header-anchor">#</a> 1.2.3 基本结构</h4> <p>compcht下创建一个button.vue的文件，放置button组件代码。创建一个组建的button组件，并且指定name为ChButton。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    按钮组件 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'ch-Button'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>创建组件完成后，不能在项目中直接使用，需要到main.js中注册才可以使用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">// 第一步：导入button组件</span>
<span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'./compchnts/button.vue'</span>
 
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
 
<span class="token comment">// 第二步：注册组件,设置(组件名，组件)</span>
Vue<span class="token punctuation">.</span><span class="token function">compchnt</span><span class="token punctuation">(</span>Button<span class="token punctuation">.</span>name<span class="token punctuation">,</span> Button<span class="token punctuation">)</span>
 
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><p>注册完成后，组件就可以在项目中使用了</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>按钮效果：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAjCAYAAAAdbr1xAAAE1UlEQVRoBe2VW3LiOhCGtUIuyVnOBMzsI2Cb3PcQwCRvp/I+lwAJs4EkJATI5Z9q2bIlWdhKxQw1U1ZVl43U/XfrU8swlGMrBNhWspZJoYC/urrC2dlZaQUzIK76UMCfnp7i/f29tIIZEFd9lOALhmxqXCvwb29vKK1YBiX4LTVVLviTkxO8vr6WVjAD4qoP5Rtfgt9M0+WCPz4+xsvLS2kFMyCu+lA6/qPgf3XrYP/5+GUqdOKjzr7iwrQmzWVqSH5ZDVGExguvtw5/Ymq8C3xl69ZM/uqcFfjVagVbm3ZrYLs+psaYKfxdBtYcZuiFPq2LJCfXZAwsw2rdqaQ5RIsxyBqri1ZmvKkmfS/qb8pRgz9J6rRlRH5/GPwKIcQWhsaDWSENSNrcxEcttdnwoGTwPIc4XA68haF4GvIOm6Zm0HX13xsGf3R0hOVyaW1Tnzrew5THTOFRh2d0arhWgzemHOQv3g05xx4HH/qK9TBHaxj95j4tBFL+mj/FckgdL+ZFbPgMOPhA3aPun8od8I5Xa1F1s7gRV30o33hb8By4DrjpcfAxFOMBShugzTY1AHKMAlVsUgYvvy9V2DpISTcNPtRJGmgJ4/70/dLnTTSApG86gFzwh4eHWCwW1nbrUce7uOUxt3B3GZxhGK+uCc0ADqvBHZGvA6eh3ZBYa4HFyEWNOQiUeihe5Ajf5Rsmci+GTvbNawTJHnkeJu0j1K15t4nPQtQt9vGxJ3HVh9LxnwMvFyMDkufT7/yAZBACNIeXBT7RSmkYY0P/gA47zhc2Cz88cejG2D8A/vn5GbZ241XBdlzc6DGBY57X/Z6fwTUagzgn/2241kpnB3KNAzjMwUDWpvz6XLQ+4OCjfMJPqpfWq95NXE/IgnJU4V7Lee3frTreFjr5yZAcz0U1B5iAV/X+h7ujfWaiWEdAlWAkNaUBEKg4RsAXQMVv6SmDj2ONuWSw6bxJTbKf+T0X/MHBAebzea719yRoOx1MpJiJS7dAnSNNiqm6k5Q299/rm+d1nZ8dVFkVnZ9RjYNm6lvOcxjmxaHzp56P/HmuCTprGkKJFw2m1ydxkDkSV30o33hb8EI0BVkHIwpZNz+f4zPgRQOkDpSDb6Iv8ktPHrMW/Lqm66MpH7ikJ1hkPXPBd7tdPD09Wdu4E3b3OIrpxTehis4PoTMOu2ivZ9TlGoY1XZvX9SPq+Fhb5NCefboJTfQMe+E16vnIf6cDsY80g14IPi+vIR9pEVd9KB3/WfBJwRFscSXXQCD/BDzFJAeWzEtQOfg00OTAGRhB/RvBPz4+wtZGnQpYvY2RKabXUL6/lc7IqHv+Jfm/aPSS3Hz+y7ka872NCmvgnOcboV0PY+U4XjvPLfwSTVoz6pL/un3wXOdosAra31UtW05WHW8rRn4cvAYnASlvXEDSiw/n40PhYJODMP6hRbcoBZsAfSCeySC3Dd73fcxms1y7blfibm70Zph920clBpIRH/nxGIs8NrUU4sPB7+N6bU1hx+9/y9jb2tgZiKs+lG+8LfhCNptR6L+mnwve8zw8PDyUVjAD4qoPpeNL8JtpOivw9/f3KK1YBiX4LTVVLnjXdXF3d1dawQyIqz6Ub/zl5SXIqbRiGRBXfSjg9cXy9+YIlOA3xzZT+Td8SvG9DEvQ8wAAAABJRU5ErkJggg==" alt="img"></p> <p>使用slot来定义按钮上的文本内容：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在使用时就可以直接输入文本，定义按钮文本内容了：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>button组件基础样式：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ch-button</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
    <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> 0.1s<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
    //禁止元素的文字被选中
    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 12px 20px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token selector">;
    &amp;:hover,
    &amp;:hover</span><span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> #c6e2ff<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #ecf5ff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>1.2.3 type属性</p> <p>让按钮支持type属性，使得按钮支持不同样式：</p> <p>第一步:父组件组件传递type属性</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>primary按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>success按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>info按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>danger按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>warning按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第二步：子组件接收负组件传递的数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ChButton'</span><span class="token punctuation">,</span>
  <span class="token comment">// 此时对props进行校验，值接收string类型的type值</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> String，
      <span class="token comment">// 设置默认值：如果不传值，那么使用default</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'default'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token comment">//defalut primary success info danger warning</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第三步:通过绑定类名的方法动态控制样式</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`ch-button-${type}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第四步：设置不同类型的样式</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">.ch-button-primary</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #66b1ff<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #66b1ff<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.ch-button-success</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #85ce61<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #85ce61<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.ch-button-info</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #a6a9ad<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #a6a9ad<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.ch-button-warning</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #ebb563<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ebb563<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.ch-button-danger</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #f78989<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f78989<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>第五步：至此就完成了对于按钮样式的设置，查看一下效果</p> <p><img src="/docs/assets/img/20200306124742340.021c4cec.png" alt="img"></p> <h4 id="_1-2-4-plain属性"><a href="#_1-2-4-plain属性" class="header-anchor">#</a> 1.2.4 plain属性</h4> <p>和type类型相同，我们只要将样式先设置好，然后通过父组件传递过来的值进行判断，就可以设置plain属性了。</p> <p>第一步:父组件组件传递plain值</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>primary按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>success按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>info按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>danger按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">plain</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>warning按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第二步：子组件接收负组件传递的数据，同样进行props校验，并且设置默认值为false</p> <div class="language-css extra-class"><pre class="language-css"><code>  <span class="token selector">props:</span> <span class="token punctuation">{</span>
    <span class="token selector">plain:</span> <span class="token punctuation">{</span>
      <span class="token property">type</span><span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token property">default</span><span class="token punctuation">:</span> false
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>第三步:通过绑定类名的方法动态控制样式，由于plain类型是布尔值，所以在类型中我们使用对象的形式来控制样式</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[`ch-button-${type}`,{
    <span class="token punctuation">'</span>is-plain<span class="token punctuation">'</span>:plain
  }]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第四步：设置不同类型的样式，由于plain类型是以对象的形式在类中定义的，所以使用获取属性的方法定义样式</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// 朴素按钮样式</span>
<span class="token selector">.ch-button.is-plain</span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #489eff<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-button-primary.is-plain</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #ecf5ff<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-button-success.is-plain</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #c2e7b0<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-button-info.is-plain</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #d3d4d6<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-button-warning.is-plain</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f5dab1<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-button-danger.is-plain</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fbc4c4<span class="token punctuation">;</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第五步：至此就完成了对于按钮样式的设置，查看一下效果</p> <p><img src="/docs/assets/img/20200306133444810.0e42e019.png" alt="img"></p> <h4 id="_1-2-5-round属性"><a href="#_1-2-5-round属性" class="header-anchor">#</a> 1.2.5 round属性</h4> <p>设置round属性和之前的相似，只要在组件中定义好了样式，动态获取属性值即可。</p> <p>获取属性值：</p> <div class="language-js extra-class"><pre class="language-js"><code>round<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><p>round样式：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.ch-button.is-round</span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 12px 23px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果图：</p> <p><img src="/docs/assets/img/20200306153857367.3224d0a8.png" alt="img"></p> <h4 id="_1-2-6-circle属性"><a href="#_1-2-6-circle属性" class="header-anchor">#</a> 1.2.6 circle属性</h4> <p>circle同样是上面的方法，样式为：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.ch-button.is-circle</span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-2-7-使用字体图标"><a href="#_1-2-7-使用字体图标" class="header-anchor">#</a> 1.2.7 使用字体图标</h4> <p>在项目中使用字体图标，首先需要有字体图标，我们可以去<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">阿里巴巴矢量图标库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>下载。</p> <p>下载完成后，在asset目录下新建一个fonts目录，存放我们下载到的字体图标。</p> <p><img src="/docs/assets/img/20200306175544725.05c2bc7f.png" alt="img"></p> <p>做完准备工作后，我们就可以开始把字体图标运用到项目中了。</p> <p>第一步：在main.js中引入字体图标</p> <div class="language-css extra-class"><pre class="language-css"><code>import <span class="token string">'./assets/fonts/iconfont.css'</span>
</code></pre></div><p>第二步：将下载的字体图标css文件中的类名做修改，我将icon全部改为了ch-icon，并且将初始的iconfont类改为了[class*='ch-icon']，当类名中有ch-icon时使用，如下</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">[class*='ch-icon']</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.ch-icon-bluetoothoff:before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\e697&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第三步：父组件传递图标名，子组件接收并且放到图标中</p> <p>父组件传值：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bluetoothon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>camera<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>照相机<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>course<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bluetooth_link<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>audio<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件接收：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">icon:</span> <span class="token punctuation">{</span>
    <span class="token property">type</span><span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token property">default</span><span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用接收到的字体图标。在没有传入icon时隐藏<code>&lt;i&gt;</code>标签，在slot插槽没有传入值时，不显示<code>&lt;span&gt;</code>标签</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[`ch-button-${type}`,{
    <span class="token punctuation">'</span>is-plain<span class="token punctuation">'</span>:plain,
    <span class="token punctuation">'</span>is-round<span class="token punctuation">'</span>:round,
    <span class="token punctuation">'</span>is-circle<span class="token punctuation">'</span>:circle,
  }]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`ch-icon-${icon}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 如果没传入文本插槽，则不显示span内容 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第四步：设置icon配套样式，使图标和文字之间有一定间隔</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.ch-button [class*=ch-icon-]+span</span><span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="img"></p> <h4 id="_1-2-8-点击事件支持"><a href="#_1-2-8-点击事件支持" class="header-anchor">#</a> 1.2.8 点击事件支持</h4> <p>我们在使用组件时，直接给组件定义事件是不会被触发的。我们需要在组件中定义一个点击事件，这个点击事件不进行其他操作，只出发父组件中的点击事件。</p> <p>组件中的定义点击事件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[`ch-button-${type}`,{
    <span class="token punctuation">'</span>is-plain<span class="token punctuation">'</span>:plain,
    <span class="token punctuation">'</span>is-round<span class="token punctuation">'</span>:round,
    <span class="token punctuation">'</span>is-circle<span class="token punctuation">'</span>:circle,
  }]<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`ch-icon-${icon}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 如果没传入文本插槽，则不显示span内容 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义一个点击事件，这个点击事件的作用是调用父组件中的点击事件，并且回调</p> <div class="language-js extra-class"><pre class="language-js"><code>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>父组件在使用时定义自己的点击事件，其本质是子组件中的点击事件触发父组件中的点击事件。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">getInfo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'获取信息！！'</span><span class="token punctuation">)</span><span class="token comment">//获取信息！！</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-2-9-disabled属性"><a href="#_1-2-9-disabled属性" class="header-anchor">#</a> 1.2.9 disabled属性</h4> <p>和之前相似，只要父子组件传值并且动态获取这个值并且赋给disabled属性,并且设置一个disabled样式即可。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getInfo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[`ch-button-${type}`,{
    <span class="token punctuation">'</span>is-plain<span class="token punctuation">'</span>:plain,
    <span class="token punctuation">'</span>is-round<span class="token punctuation">'</span>:round,
    <span class="token punctuation">'</span>is-circle<span class="token punctuation">'</span>:circle,
    <span class="token punctuation">'</span>is-disabled<span class="token punctuation">'</span>:disabled
  }]<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`ch-icon-${icon}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">disabled:</span> <span class="token punctuation">{</span>
    <span class="token property">type</span><span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token property">default</span><span class="token punctuation">:</span> false
<span class="token punctuation">}</span>
</code></pre></div><p>disabled样式：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.ch-button.is-disabled</span><span class="token punctuation">{</span>
   <span class="token property">cursor</span><span class="token punctuation">:</span> no-drop<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-3-dialog组件"><a href="#_1-3-dialog组件" class="header-anchor">#</a> 1.3 dialog组件</h3> <h4 id="_1-3-1-前置知识"><a href="#_1-3-1-前置知识" class="header-anchor">#</a> 1.3.1 前置知识：</h4> <div class="language- extra-class"><pre class="language-text"><code>vue过渡动画
sync修饰符
具名插槽与v-slot指令
</code></pre></div><h4 id="_1-3-2-参数支持"><a href="#_1-3-2-参数支持" class="header-anchor">#</a> 1.3.2 参数支持：</h4> <table><thead><tr><th style="text-align:left;">参数名</th> <th style="text-align:left;">参数描述</th> <th style="text-align:left;">参数类型</th> <th style="text-align:left;">默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">title</td> <td style="text-align:left;">对话框标题</td> <td style="text-align:left;">string</td> <td style="text-align:left;">提示</td></tr> <tr><td style="text-align:left;">width</td> <td style="text-align:left;">宽度</td> <td style="text-align:left;">string</td> <td style="text-align:left;">50%</td></tr> <tr><td style="text-align:left;">top</td> <td style="text-align:left;">与顶部的距离</td> <td style="text-align:left;">string</td> <td style="text-align:left;">15vh</td></tr> <tr><td style="text-align:left;">visible</td> <td style="text-align:left;">是否显示dialog（支持sync修饰符）</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr></tbody></table> <h4 id="_1-3-3-事件支持"><a href="#_1-3-3-事件支持" class="header-anchor">#</a> 1.3.3 事件支持：</h4> <table><thead><tr><th style="text-align:left;">事件名</th> <th style="text-align:left;">事件描述</th></tr></thead> <tbody><tr><td style="text-align:left;">opened</td> <td style="text-align:left;">模态框显示事件</td></tr> <tr><td style="text-align:left;">closed</td> <td style="text-align:left;">模态框关闭事件</td></tr></tbody></table> <h4 id="_1-3-4-插槽说明"><a href="#_1-3-4-插槽说明" class="header-anchor">#</a> 1.3.4 插槽说明：</h4> <table><thead><tr><th style="text-align:left;">插槽名称</th> <th style="text-align:left;">插槽描述</th></tr></thead> <tbody><tr><td style="text-align:left;">default</td> <td style="text-align:left;">dialog的内容</td></tr> <tr><td style="text-align:left;">title</td> <td style="text-align:left;">dialog的标题</td></tr> <tr><td style="text-align:left;">footer</td> <td style="text-align:left;">dialog的底部操作区</td></tr></tbody></table> <h4 id="_1-3-5-基本结构"><a href="#_1-3-5-基本结构" class="header-anchor">#</a> 1.3.5 基本结构</h4> <p>首先搭建起来dialog组件的框架，暂时不加入插槽，只构建出基本的框架和样式。</p> <p>框架分为三个部分，头部（header）、内容（body）、底部（footer），基本框架如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_headerbtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-icon-close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>这是一段信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>样式如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.ch-dialog_wrapper</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 2001<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.5<span class="token punctuation">)</span><span class="token selector">;
  .ch-dialog</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 15vh auto 50px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 3px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 30%<span class="token selector">;
    &amp;_header</span><span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 20px 20px 10px<span class="token selector">;
      .ch-dialog_title</span><span class="token punctuation">{</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #303133<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.ch-dialog_headerbtn</span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token selector">;
        .ch-icon-close</span><span class="token punctuation">{</span>
          <span class="token property">color</span><span class="token punctuation">:</span>909399
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;_body</span><span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 30px 20px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">word-break</span><span class="token punctuation">:</span> break-all<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;_footer</span><span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 10px 20px 20px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token selector">;
      ::v-deep .ch-button:first-child</span><span class="token punctuation">{</span>
        <span class="token property">margin-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在main.js注册后，在app.vue中引用，形成以下效果：</p> <p><img src="/docs/assets/img/20200323100542812.5e09a368.png" alt="img"></p> <h4 id="_1-3-6-title属性"><a href="#_1-3-6-title属性" class="header-anchor">#</a> 1.3.6 title属性</h4> <p>title标题部分除了普通的标题内容外，也应该可以设置标题的样式，比如设置为h1红色的自定义标题内容，所以在这里我们就使用到了插槽，可以在使用时按照需求自定义标题内容和样式。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token comment">&lt;!-- 将span放到slot内，这样不仅可以定义title文本，还可以定义样式等 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          {{title}}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_headerbtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-icon-close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>这是一段信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过父子组件之间得传值以及slot指定组件自定义title内容和样式</p> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>温馨提示<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- 使用v-slot指定插槽进行编辑 --&gt;</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>title</span><span class="token punctuation">&gt;</span></span>
     	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果如下</p> <p><img src="/docs/assets/img/20200323103758952.e7ceb5a0.png" alt="img"></p> <h4 id="_1-3-7-width属性和top属性"><a href="#_1-3-7-width属性和top属性" class="header-anchor">#</a> 1.3.7 width属性和top属性</h4> <p>实现在组件调用时控制dialog组件的宽度以及位置。</p> <p>只需要在父组件中传递宽度和高度，并且在子组件中获取并且使用即可。</p> <p>父组件传值：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-dialog</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">top</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件使用：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{width:width,marginTop:top}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     ···
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1-3-8-内容插槽"><a href="#_1-3-8-内容插槽" class="header-anchor">#</a> 1.3.8 内容插槽</h4> <p>body内容可能是除span以外的其他内容，比如列表等，所以在这里使用插，并且在这里使用匿名插槽，使用匿名插槽的好处就是在使用时不需要使用template标签指定内容，直接在组件标签下编写内容即可。</p> <p>在body中使用匿名组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在父组件中，只需要在标签下直接编辑内容即可，不需要再使用template标签绑定插槽或者父子组件传值了</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>显示效果</p> <p><img src="/docs/assets/img/20200323111453423.d8478914.png" alt="img"></p> <h4 id="_1-3-9-底部插槽"><a href="#_1-3-9-底部插槽" class="header-anchor">#</a> 1.3.9 底部插槽</h4> <p>footer中使用slot插槽，在父组件中的定义底部内容。</p> <p>设置footer插槽，如果没有指定footer插槽，则不显示</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 如果footer不传递内容，则不显示footer --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$slots.footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件中的定义footer插槽内容</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1-3-10-控制显示与隐藏"><a href="#_1-3-10-控制显示与隐藏" class="header-anchor">#</a> 1.3.10 控制显示与隐藏</h4> <p>dialog组件的显示与隐藏，需要使用到sync语法糖。这里简单介绍以下什么是sync语法糖，sync通俗来说，是父子组件传值过程中提供的一种模式，这种模式有两个功能：1.将父组件向子组件传值；2.子组件回调一个值给父组件。</p> <p>打个比方，如下代码需要两部才能实现上述功能：1.向子组件传值；2.接收子组件回调的值</p> <div class="language-vue extra-class"><pre class="language-vue"><code>//父组件传值 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>demo</span> <span class="token attr-name">:visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:mchy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mchy<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>aa</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fn1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>demo</span><span class="token punctuation">&gt;</span></span>
//子组件回调
  methods: {
    fn () {
     this.$emit('aa', 200)
    }
  }
</code></pre></div><p>根据上面对于sync语法糖的介绍，我们在dialog显示和隐藏中要进行两种处理</p> <p>控制dialog的显示和隐藏，我们首先在子组件中使用v-show对于组建的显示与隐藏进行控制。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_wrapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click.self</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClose<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   ···
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件控制dialog的显示和隐藏</p> <p>父组件中的直接通过传递一个参数visible，使用点击方法控制这个参数的布尔值即可。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-dialog</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>switchDialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件控制dialog的显示和隐藏</p> <p>子组件控制dialog的显示和隐藏，不能直接修改父组件传递过来的值，需要使用回调触发父组件中的值进行修改，这里就使用到了上面介绍的sync语法糖。</p> <p>首先在父组件中使用:visible.sync=&quot;visible&quot;向子组件进行传值并且接收子组件回调。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-dialog</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>switchDialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-dialog</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件通过自身定义的方法，控制dialog组件的显示与隐藏，然后将visible属性回调给父组件。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>回调方法：</p> <div class="language-js extra-class"><pre class="language-js"><code>  method<span class="token punctuation">{</span>
    <span class="token function">handleClose</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:visible'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-3-11-动画效果"><a href="#_1-3-11-动画效果" class="header-anchor">#</a> 1.3.11 动画效果</h4> <p>使用transition包裹整个dialog框架</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-dialog_wrapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click.self</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClose<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ···
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用vue动画进行处理</p> <p>这里先定义了fade动画，然后在dialog组件显示和隐藏的时候调用（反向调用）这个动画。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.dialog-fade-enter-active</span><span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade .3s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dialog-fade-leave-active</span><span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade .3s reverse<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> fade</span><span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-4-input组件"><a href="#_1-4-input组件" class="header-anchor">#</a> 1.4 input组件</h3> <h4 id="_1-4-1-参数支持"><a href="#_1-4-1-参数支持" class="header-anchor">#</a> 1.4.1 参数支持</h4> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">参数描述</th> <th style="text-align:left;">参数类型</th> <th style="text-align:left;">默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">placeholder</td> <td style="text-align:left;">占位符</td> <td style="text-align:left;">string</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">type</td> <td style="text-align:left;">文本框类型（text/password）</td> <td style="text-align:left;">string</td> <td style="text-align:left;">text</td></tr> <tr><td style="text-align:left;">disabled</td> <td style="text-align:left;">禁用</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">clearable</td> <td style="text-align:left;">是否显示清空按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">show-password</td> <td style="text-align:left;">是否显示密码切换按钮</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">name</td> <td style="text-align:left;">name属性</td> <td style="text-align:left;">string</td> <td style="text-align:left;">无</td></tr></tbody></table> <h4 id="_1-4-2-事件支持"><a href="#_1-4-2-事件支持" class="header-anchor">#</a> 1.4.2 事件支持</h4> <table><thead><tr><th style="text-align:left;">事件名称</th> <th style="text-align:left;">事件描述</th></tr></thead> <tbody><tr><td style="text-align:left;">blur</td> <td style="text-align:left;">失去焦点事件</td></tr> <tr><td style="text-align:left;">change</td> <td style="text-align:left;">内容改变事件</td></tr> <tr><td style="text-align:left;">focus</td> <td style="text-align:left;">获取焦点事件</td></tr></tbody></table> <h4 id="_1-4-3-基本框架和样式以及处理"><a href="#_1-4-3-基本框架和样式以及处理" class="header-anchor">#</a> 1.4.3 基本框架和样式以及处理</h4> <p>因为这部分与前面介绍的内容相同且比较简单，所以将这部分放在一起，不多做介绍了。</p> <p>这里需要注意的是，disabled属性为true时，输入框禁用，并且需要改变样式，之前在button组件封装的时候也用到了相同的方法，获取到值后动态设置组件样式。</p> <p>input组件的框架以及样式，获取到的数据以及数据处理：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input_inner<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-disabled<span class="token punctuation">'</span>: disabled}<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>placeholder<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chInput'</span><span class="token punctuation">,</span>
  compchnts<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    placeholder<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'text'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    disabled<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ch-input</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token selector">;
    .ch-input_inner</span><span class="token punctuation">{</span>
      <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token property">background-image</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 15px<span class="token punctuation">;</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> border-color .2s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.645<span class="token punctuation">,</span>045<span class="token punctuation">,</span>.355<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token selector">;
 
      &amp;:focus</span><span class="token punctuation">{</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">// input禁用样式
      &amp;.is-disabled</span><span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f7fa<span class="token punctuation">;</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #e4e7ed<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #c0c4cc<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span>not-allowed<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件中传值也是与之前一样的：</p> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入密码<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>true</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1-4-4-v-model语法糖"><a href="#_1-4-4-v-model语法糖" class="header-anchor">#</a> 1.4.4 v-model语法糖</h4> <p>当我们给一个input标签进行双向数据绑定时，我们需要使用value绑定数据，再使用input事件监听标签内数据的变动，如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username=$event.target.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>在封装input组件时，这样显然是不合适的，所以这里我们需要使用到v-model语法糖。</p> <p>显然，我们是不能给我们封装的input组件直接使用v-model绑定数据的，但是由于v-model的特性，他将value值绑定在了组件上，所以，我们组件内部通过接收value值的方式，就可以接收到传入的数据；并且v-model也实现了input事件，在组件内部绑定的input事件作为回调，把value值返回给父组件，这样就实现了input组件的双向绑定了。</p> <p>父组件中的使用v-model绑定：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>组件内部绑定value值以及实现回调：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>//绑定value值和input事件  
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input_inner<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-disabled<span class="token punctuation">'</span>: disabled}<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>placeholder<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>disabled</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//绑定input事件进行回调</span>
<span class="token function">handleInput</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-4-5-实现clearable功能和showpassword功能"><a href="#_1-4-5-实现clearable功能和showpassword功能" class="header-anchor">#</a> 1.4.5 实现clearable功能和showPassword功能</h4> <p>当我们在组件中键入clearable属性时，我们希望组件可以有一个一键删除数据得功能。</p> <p>当input组件的type属性是password时，我们希望在给与show-password属性时，可以有一个显示和隐藏密码的按钮。</p> <p>实现这个两个功能，除了基本的父子组件传值外，还要添加i标签的icon字体图标，以及实现功能。</p> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>ch-input_suffix<span class="token punctuation">'</span>:showSuffix}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input_inner<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-disabled<span class="token punctuation">'</span>: disabled}<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>placeholder<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>disabled</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-input_suffix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on-input_icon ch-icon-cancel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clearable &amp;&amp; value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on-input_icon ch-icon-visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showPassword &amp;&amp; type==<span class="token punctuation">'</span>password<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlePassword<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>样式：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>  <span class="token selector">.ch-input_suffix</span><span class="token punctuation">{</span>
    <span class="token selector">.ch-input_inner</span><span class="token punctuation">{</span>
      <span class="token property">padding-right</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-input_suffix</span><span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #c0c4cc<span class="token punctuation">;</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>
      <span class="token property">z-index</span><span class="token punctuation">:</span> 900<span class="token punctuation">;</span>
      <span class="token selector">i</span><span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #c0c4cc<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> color .2s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.645<span class="token punctuation">,</span>.045<span class="token punctuation">,</span>.355<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>实现clearable功能</p> <p>首先获取父组件传递的clearable值，然后给i标签绑定一个点击事件，这个事件触发input事件回调，当点击叉号字体图标时，将父组件的value清空：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">clear</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>实现showPassword功能</p> <p>实现showPassword功能的思路很简单，就是改变input的type类型即可。但是，我们不能直接改变父组件传递过来的type值，但是我们可以使用判断type值的方式，实现type的改变。</p> <p>首先设置一个布尔类型的变量，并且设置点击事件改变这个变量：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 显示是否显示密码框</span>
      passwordVisible<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handlePassword</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>passwordVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>passwordVisible
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>然后我们需要在绑定type值时，进行两重判断。</p> <p>第一步、判断showPassword是否为真；第二步、如果为真则通过passwordVisible去判断type为text还是password，以此来控制隐藏和现实，否则type值就为传入的type值即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;showPassword ? (passwordVisible ? 'text' : 'password') : type&quot;</span>
</code></pre></div><h3 id="_1-5-switch组件"><a href="#_1-5-switch组件" class="header-anchor">#</a> 1.5 switch组件</h3> <h4 id="_1-5-1-参数支持"><a href="#_1-5-1-参数支持" class="header-anchor">#</a> 1.5.1 参数支持</h4> <table><thead><tr><th style="text-align:left;">参数名</th> <th style="text-align:left;">参数描述</th> <th style="text-align:left;">参数类型</th> <th style="text-align:left;">默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">v-model</td> <td style="text-align:left;">双向绑定</td> <td style="text-align:left;">布尔类型</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">name</td> <td style="text-align:left;">name属性</td> <td style="text-align:left;">string</td> <td style="text-align:left;">text</td></tr> <tr><td style="text-align:left;">activeColor</td> <td style="text-align:left;">自定义的激活颜色</td> <td style="text-align:left;">string</td> <td style="text-align:left;">#1ec63b</td></tr> <tr><td style="text-align:left;">inactiveColor</td> <td style="text-align:left;">自定义的不激活颜色</td> <td style="text-align:left;">string</td> <td style="text-align:left;">#dd001b</td></tr></tbody></table> <h4 id="_1-5-2-事件支持"><a href="#_1-5-2-事件支持" class="header-anchor">#</a> 1.5.2 事件支持</h4> <table><thead><tr><th style="text-align:left;">事件名称</th> <th style="text-align:left;">事件描述</th></tr></thead> <tbody><tr><td style="text-align:left;">change</td> <td style="text-align:left;">change时触发的事件</td></tr></tbody></table> <h4 id="_1-5-3-基本结构"><a href="#_1-5-3-基本结构" class="header-anchor">#</a> 1.5.3 基本结构</h4> <p>switch组件基本框架：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on-switch_core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>switch组件样式：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">&lt;style lang=&quot;scss&quot; scoped&gt;
  .ch-switch</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token selector">.ch-switch_core</span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #dcdfe6<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> border-color .3s<span class="token punctuation">,</span>background-color .3s<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token selector">.ch-switch_button</span><span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre></div><h4 id="_1-5-4-数据双向绑定"><a href="#_1-5-4-数据双向绑定" class="header-anchor">#</a> 1.5.4 数据双向绑定</h4> <p>实现switch组件数据双向绑定和input组件相同，使用v-model语法糖即可。</p> <p>在父组件种通过v-model绑定数据，在组件内部获取value属性，并且定义一个回调函数与父组件通信，改变父组件中的绑定值即可。</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-switch</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-switch</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件，点击时改变is-checked类状态，触发滑块滑动：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-checked<span class="token punctuation">'</span>:value}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 
methods: {
    handleClick () {
    	this.$emit('input', !this.value)
    }
}
</code></pre></div><p>滑动样式：</p> <div class="language-scss extra-class"><pre class="language-scss"><code>  <span class="token comment">// 选中样式</span>
  <span class="token selector">.is-checked </span><span class="token punctuation">{</span>
    <span class="token selector">.ch-switch_core</span><span class="token punctuation">{</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
      <span class="token selector">.ch-switch_button </span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-5-5-颜色自定义"><a href="#_1-5-5-颜色自定义" class="header-anchor">#</a> 1.5.5 颜色自定义</h4> <p>自定义switch组件的颜色，首先需要传入颜色的值，在子组件中获取后，使用ref获取节点，将背景颜色改变为对应颜色即可。</p> <p>父组件传递色彩参数：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-switch</span>
<span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">active-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#13ce66<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">inactive-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff4949<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-switch</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件中定义ref=&quot;core&quot;以确定节点：</p> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-checked<span class="token punctuation">'</span>:value}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_core<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过mouted钩子和watch监听，在刚进入页面以及value改变时对颜色进行改变：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改开关颜色</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> color
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> color
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'value'</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改开关颜色</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token operator">!</span>e <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> color
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> color
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-5-6-name属性支持"><a href="#_1-5-6-name属性支持" class="header-anchor">#</a> 1.5.6 name属性支持</h4> <p>用户在使用switch组件的时候，实质上是当成表单元素来使用的。因此可能会用到组件的name属性。所以需要在switch组件中添加一个checkbox，并且当值改变的时候，也需要设置checkbox的value值。</p> <p>加入input标签：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-checked<span class="token punctuation">'</span>:value}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_core<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-switch_input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>设置标签样式，因为input标签只作为name绑定使用，所以将其隐藏起来：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">// 隐藏input标签
.ch-switch_input</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们在页面加载和点击时修改input的checked值，保证可以和value值同步：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改开关颜色</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeColor <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inactiveColor
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> color
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>core<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> color
    <span class="token punctuation">}</span>
    <span class="token comment">// 控制checkbox的值,input值同步value值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// 控制checkbox的值,input值同步value值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-6-radio组件"><a href="#_1-6-radio组件" class="header-anchor">#</a> 1.6 radio组件</h3> <h4 id="_1-6-1-前置知识点"><a href="#_1-6-1-前置知识点" class="header-anchor">#</a> 1.6.1 前置知识点：</h4> <div class="language- extra-class"><pre class="language-text"><code>radio的基本使用
</code></pre></div><h4 id="_1-6-2-参数支持"><a href="#_1-6-2-参数支持" class="header-anchor">#</a> 1.6.2 参数支持：</h4> <table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">参数描述</th> <th style="text-align:left;">参数类型</th> <th style="text-align:left;">默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">v-model</td> <td style="text-align:left;">双向绑定</td> <td style="text-align:left;">布尔类型</td> <td style="text-align:left;">false</td></tr> <tr><td style="text-align:left;">label</td> <td style="text-align:left;">单选框和value值</td> <td style="text-align:left;">string，num，Boolean</td> <td style="text-align:left;">' '</td></tr> <tr><td style="text-align:left;">name</td> <td style="text-align:left;">na'm</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr></tbody></table> <h4 id="_1-6-3-基本结构"><a href="#_1-6-3-基本结构" class="header-anchor">#</a> 1.6.3 基本结构</h4> <p>框架、基本样式以及选中样式：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">&lt;template&gt;
  &lt;label class=&quot;ch-radio is-checke&quot;&gt;
    &lt;span class=&quot;ch-radio_input&quot;&gt;
      &lt;span class=&quot;ch-radio_inner&quot;&gt;&lt;/span&gt;
      &lt;input
      type=&quot;radio&quot;
      class=&quot;ch-radio_original&quot;
      &gt;
    &lt;/span&gt;
    &lt;span class=&quot;ch-radio_label&quot;&gt;我是label&lt;/span&gt;
  &lt;/label&gt;
&lt;/template&gt;
&lt;script&gt;
export default </span><span class="token punctuation">{</span>
  <span class="token selector">name: 'chRadio',
  props: </span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
  watch: </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token selector">return </span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
  methods: </span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">&lt;/script&gt;
&lt;style lang=&quot;scss&quot; scoped&gt;
  .ch-radio</span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token selector">.ch-radio_input</span><span class="token punctuation">{</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
      <span class="token selector">.ch-radio_inner</span><span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token selector"><span class="token parent important">&amp;</span>:after</span><span class="token punctuation">{</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
          <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
          <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
          <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
          <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
          <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
          <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token property">transition</span><span class="token punctuation">:</span> transform .15s ease-in<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.ch-radio_original</span><span class="token punctuation">{</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-radio_label</span><span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 选中的样式</span>
  <span class="token selector">.ch-radio.is-checked</span><span class="token punctuation">{</span>
    <span class="token selector">.ch-radio_input</span><span class="token punctuation">{</span>
      <span class="token selector">.ch-radio_inner</span><span class="token punctuation">{</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
        <span class="token selector"><span class="token parent important">&amp;</span>:after</span><span class="token punctuation">{</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-radio_label</span><span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span>#409eff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre></div><h4 id="_1-6-4-数据双向绑定"><a href="#_1-6-4-数据双向绑定" class="header-anchor">#</a> 1.6.4 数据双向绑定</h4> <p>实现radio组件的数据双向绑定，除了要绑定数据本身外，还要控制radio组件的样式。</p> <p>实现radio组件数据的绑定，需要父组件传递的label值和value值，其中value值使用v-model语法糖来绑定。</p> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-radio</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-radio</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-radio</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-radio</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件接收数据后，要对数据进行处理。</p> <p>当radio组件被点击时，绑定的数据应该变为该组件的label值。我们将组件中的input标签的value绑定为传入的label值，并且声明一个计算属性model双向绑定到input组件上，model我们需要通过get方法获取值；并且通过set方法将值回调给父组件。</p> <p>同时，当我们在点击radio组件时，我们应该让被选中的组件添加选中样式，我们通过label和value的比较来判断，如果相同则显示选中样式。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-checked<span class="token punctuation">'</span>: label == value}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_original<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 如果没有传值，就把label作为文本显示 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{label}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
//计算属性
computed: {
    model: {
        get () {
        	return this.value
        },
        set (value) {
            // 触发父组件的input事件
            this.$emit('input', value)
        }
    }
}
</code></pre></div><h3 id="_1-7-radio-group组件"><a href="#_1-7-radio-group组件" class="header-anchor">#</a> 1.7 radio-group组件</h3> <p>radio-group组件是再radio组件上进行优化的，它的目的是在我们使用radio组件时，不必给每个组件都添加一个v-model，而是通过绑定一个v-model来实现数据绑定。</p> <p>使用radio-group组件包裹radio组件时，需要考虑到的一个问题就是radio-group组件于radio组件之间的通讯。我们在使用radio-group组件时将数据通过v-model进行了绑定，那么raido组件就不能直接拿到这个值，所以我们需要使用provide/inject进行祖孙组件之间得传值。</p> <p>使用provide/inject非常简单，在radio-group中通过声明provide对象将组件自身进行传递，在radio中使用inject进行接收即可。</p> <p>radio-group组件架构：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chRadioGroup'</span><span class="token punctuation">,</span>
  <span class="token function">provide</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      RadioGroup<span class="token operator">:</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 组件接收到了value值，我们需要触发这个组件的input事件</span>
    <span class="token comment">// provide 与 inject  用来做祖孙之间得组件通讯</span>
    value<span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在radio组件中，通过inject可以直接接收到参数，此时，原本通过v-model传递进来的value值，变成了radio-group组件传进来的RadioGroup.value值，所以在computed计算属性中，我们先写一个radio组件是否被radio-group组件进行判断的方法，并且使用在model中，如果被包裹了，则使用RadioGroup.value值，否则使用value值。</p> <p>同时在is-checked类的判断上抛弃label于value的比较，转而通过label于model（model此时的值为value或RadioGroup.value）比较，来进行样式的更改。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>is-checked<span class="token punctuation">'</span>: label == model}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_original<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-radio_label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 如果没有传值，就把label作为文本显示 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{label}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chRadio'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">,</span> Number<span class="token punctuation">,</span> Boolean<span class="token punctuation">]</span><span class="token punctuation">,</span>
      defualt<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      defualt<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  inject<span class="token operator">:</span> <span class="token punctuation">{</span>
    RadioGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isGroup <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>RadioGroup<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 触发父组件的input事件</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isGroup <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>RadioGroup<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 用于判断radio是否被radioGroup包裹</span>
    <span class="token function">isGroup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>RadioGroup
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-8-checkbox组件"><a href="#_1-8-checkbox组件" class="header-anchor">#</a> 1.8 checkbox组件</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span> is-checked<span class="token punctuation">'</span>:isChecked}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox_input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox_inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox_original<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox_label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!$slots.default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{label}}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chCheckbox'</span><span class="token punctuation">,</span>
  inject<span class="token operator">:</span> <span class="token punctuation">{</span>
    CheckboxGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isGroup <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>CheckboxGroup<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isGroup <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>CheckboxGroup<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">isGroup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>CheckboxGroup
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">isChecked</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果十group包裹，判断label是否在model中</span>
      <span class="token comment">// 如果没有group包裹,直接使用model</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isGroup <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ch-checkbox</span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token property">user-select</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 30px<span class="token selector">;
    .ch-checkbox_input</span><span class="token punctuation">{</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token selector">;
      .ch-checkbox_inner</span><span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> border-color .25s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.71<span class="token punctuation">,</span>-.46<span class="token punctuation">,</span>.29<span class="token punctuation">,</span>1.46<span class="token punctuation">)</span><span class="token punctuation">,</span>background-color .25s<span class="token punctuation">,</span><span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.71<span class="token punctuation">,</span>-.46<span class="token punctuation">,</span>.29<span class="token punctuation">,</span>1.46<span class="token punctuation">)</span><span class="token selector">;
        &amp;:after</span><span class="token punctuation">{</span>
          <span class="token property">box-sizing</span><span class="token punctuation">:</span> content-box<span class="token punctuation">;</span>
          <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ffffff<span class="token punctuation">;</span>
          <span class="token property">border-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
          <span class="token property">border-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>
          <span class="token property">left</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
          <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
          <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
          <span class="token property">transition</span><span class="token punctuation">:</span> transform .15s ease-in .05s<span class="token punctuation">;</span>
          <span class="token property">transform-origin</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.ch-checkbox_original</span><span class="token punctuation">{</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> nch<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-checkbox_label</span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 19px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">// 选中的样式
  .ch-checkbox.is-checked</span><span class="token punctuation">{</span>
    <span class="token selector">.ch-checkbox_input</span><span class="token punctuation">{</span>
      <span class="token selector">.ch-checkbox_inner</span><span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:after</span><span class="token punctuation">{</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-checkbox_label</span><span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-9-checkbox-group组件"><a href="#_1-9-checkbox-group组件" class="header-anchor">#</a> 1.9 checkbox-group组件</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-checkbox-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chCheckboxGroup'</span><span class="token punctuation">,</span>
  <span class="token function">provide</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      CheckboxGroup<span class="token operator">:</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Array
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-10-form组件"><a href="#_1-10-form组件" class="header-anchor">#</a> 1.10 form组件</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chForm'</span><span class="token punctuation">,</span>
  <span class="token function">provide</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      Form<span class="token operator">:</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Object<span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    labelWidth<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'80px'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-11-form-item组件"><a href="#_1-11-form-item组件" class="header-anchor">#</a> 1.11 form-item组件</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>labelStyle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-form-item_label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{label}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch-form-item_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chFormItem'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Form'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">labelStyle</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Form<span class="token punctuation">.</span>labelWidth
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ch-form-item</span><span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 25px<span class="token selector">;
    .ch-form-item_label</span><span class="token punctuation">{</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
      <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 12px 0 0<span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.ch-form-item_content</span><span class="token punctuation">{</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> hidde<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2-封装成ui组件库"><a href="#_2-封装成ui组件库" class="header-anchor">#</a> 2.封装成ui组件库</h2> <p>我们在前面已经将组件全部封装完毕了，现在我们要将组件打包成组件库，上传到github上。由于是模仿element-ui进行的组件封装，所以在发布时也是用element-ui的打包结构。</p> <h3 id="_2-1-目录调整"><a href="#_2-1-目录调整" class="header-anchor">#</a> 2.1 目录调整</h3> <p>我们新建一个vue项目，并且在根目录创建两个文件夹就packages和examples。</p> <ul><li>packages：用于存放所有的组件</li> <li>examples：用于进行测试，把src改为examples</li></ul> <p>我们将之前写好的组件以及字体图标copy到新建项目的packages路径下，将App.vue和main.js放到examples路径下。其实一个单纯的组件库是不需要examples路径的，这样设计是为了以后我们封装新的组件时，便于测试。并且我们将原来的src文件删除。</p> <h3 id="_2-2-配置vue-config-js"><a href="#_2-2-配置vue-config-js" class="header-anchor">#</a> 2.2 配置vue.config.js</h3> <p>我们在项目根目录下创建vue.config.js文件，并进行如下配置。</p> <p>我们通过设置entry属性将入口文件设置为examps路径下的main.js文件</p> <p>我们再通过chainWebpack对于项目进行配置，使用babel处理可以将高版本语法转成低版本语法，在我们封装组件库时，这部分配置可以直接复制使用。</p> <div class="language-vue extra-class"><pre class="language-vue"><code>const path = require('path')
module.exports = {
  pages:{
    index:{
      // 修改项目入口文件
      entry:'examples/main.js',
      template:'public/index.html',
      filename:'index.html'
    }
  },
  // 扩展webpack配置,使webpages加入编译
  chainWebpack: config =&gt; {
    config.module
    .rule('js')
    .include.add(path.resolve(__dirname,'packages')).end()
    .use('babel')
    .loader('babel-loader')
    .tap(options =&gt; {
      return options
    })
  }
}
</code></pre></div><h3 id="_2-3-install方法"><a href="#_2-3-install方法" class="header-anchor">#</a> 2.3 install方法</h3> <p>安装vue.js插件，如果插件使一个对象，那么必须提供install方法。</p> <p>此时，我们需要在packages路径下，新建一个index.js文件，用于声明install对象。</p> <ol><li>我们将所有的组件和字体图标引入到index.js文件中</li> <li>声明conpoments数组，将组件全部放到这个数组中</li> <li>定义install方法，在Vue中注册所有的组件</li> <li>判断是否直接引入了文件，如果引入了，则不需要调用Vue.use()方法</li> <li>导出install对象</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code>// 整个包的入口
// 统一导出
// 导出颜色选择器组件
import Button from './button'
import Dialog from './dialog'
import Input from './input'
import Checkbox from './checkbox'
import Radio from './radio'
import RadioGroup from './radio-group'
import Switch from './switch'
import CheckboxGroup from './checkbox-group'
import Form from './form'
import FormItem from './form-item'
import './fonts/iconfont.css'
 
const compchnts = [
  Button,
  Dialog,
  Input,
  Checkbox,
  Radio,
  RadioGroup,
  Switch,
  CheckboxGroup,
  Form,
  FormItem
]
// 定义install方法
const install = function (Vue) {
  // 注册所有的组件
  compchnts.forEach(compchnt =&gt; {
    Vue.compchnt(compchnt.name, compchnt)
  })
}
// 判断是否直接引入文件，如果是，就不用调用Vue.use()
if (typeof window !== 'undefined' &amp;&amp; window.Vue) {
  install(window.Vue)
}
// 导出install方法
export default {
  install
}
</code></pre></div><h3 id="_2-4-打包组件库"><a href="#_2-4-打包组件库" class="header-anchor">#</a> 2.4 打包组件库</h3> <p>vue-cli给开发者提供了很多构建目标的命令，我们可以将我们的vue项目构建成应用、库或者Web Compchnts组件。</p> <p>我们需要构建成库，所以我们在vue-cli官方文档中找到相应命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>vue-cli-service build --target lib
</code></pre></div><p>所以我们在package.json文件中的script下加入该条指令，并且命名为lib，需要注意的是，我们需要在打包指令后面加上需要打包的路径，这里我们指定为 packages/index.js 。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service lint&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lib&quot;</span><span class="token operator">:</span><span class="token string">&quot;vue-cli-service build --target lib packages/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>然后我们在终端中使用lib（npm run lib）命令就可以对packages/index.js指定的组件进行打包了。打包完成后，会默认生成一个名为dist的路径，我们的打包文件就在这个路径下。</p> <p><img src="https://img-blog.csdnimg.cn/2020032812112349.png" alt="img"></p> <p>在dist路径下我们看到有多个js文件，这是因为打包生成了多种js规范的文件。</p> <p>12.5组件库上传前的准备工作</p> <p>1.将README.md文件中的内容进行处理，我的处理方式是将原来的内容全部删除，新增了项目介绍和个人介绍：</p> <div class="language- extra-class"><pre class="language-text"><code>CSDN:
账号ID：weixiaowei_2016
用户名：耳鼻喉科魏主任
 
- 本项目仅作为vue组件封装的练习参考
 
- 初始化vue项目
    vue created demo
 
- 安装组件库
    npm add ch-ui
 
- 全局导入
    import chUI form 'ch-ui'
    import 'ch-ui/lib/ch.css'
 
    Vue.use(chUI)
</code></pre></div><p>2.在package.json文件中声明了个人信息</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch-ui-weizhuren&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/ch-ui-upload.umd.min.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;weizhuren&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CSDN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;耳鼻喉科魏主任&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;github&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://github.com/weizhuren/ch-ui&quot;</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>github管理项目</p> <p>我们使用github管理项目，首先要有一个github的账号，这部分不多做介绍了。</p> <p>在有账号的情况下，我们到自己账号的仓库中新建一个仓库，来保存我们本次的项目代码。</p> <p><img src="https://img-blog.csdnimg.cn/2020032812244498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpYW93ZWlfMjAxNg==,size_16,color_FFFFFF,t_70" alt="img"></p> <p>创建好项目库后，在本地项目中右键进入git指令页面。</p> <p><img src="https://img-blog.csdnimg.cn/20200328174910940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpYW93ZWlfMjAxNg==,size_16,color_FFFFFF,t_70" alt="img"></p> <p>第一步、使用git status命令查看git状态</p> <p>第二步、使用git add命令提交路径下文件</p> <p>第三步、 使用git commit -m '上传组件'命令填写上传描述</p> <p>第四步、使用 git remote add origin git@github.com:weizhuren/ch-ui.git把组件库上传到这个这个库中</p> <p>第五步、使用git push -u origin master将代码上传</p> <p>github项目地址：https://github.com/weizhuren/ch-ui</p> <p>12.7组件库上传到npm</p> <p>第一步、设置package.json中的配置项</p> <ul><li>如果想把包发布到npm上，package.json中的private必须为fasle，我们需要将其设置位公有的包：&quot;private&quot;: false,</li> <li>并且name必须为npm上没有的包，否则不能上传</li> <li>同时我们可以指定入口文件 &quot;main&quot;: &quot;dist/ch-ui-upload.umd.min.js&quot;</li> <li>我们可以添加其他个人信息</li></ul> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ch-ui-weizhuren&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/ch-ui-upload.umd.min.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;weizhuren&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;CSDN&quot;</span><span class="token operator">:</span> <span class="token string">&quot;耳鼻喉科魏主任&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;github&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://github.com/weizhuren/ch-ui&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>第二步、根目录下增加一个.npmigore文件</p> <p>这个文件的作用是将一些不需要上传到npm的路径、文件进行忽略，我们在上传到npm时就不会把这部分上传了。因为我们已经将项目打包好了，所以我们只用上传dist路径下的打包文件，不需要上传源码了。</p> <div class="language- extra-class"><pre class="language-text"><code># 忽略目录
examples/
packages/
public/
 
# 忽略指定文件
vue.config.js
babel.config.js
*.map
</code></pre></div><p>第三步、上传到npm</p> <p>1.如果安装了nrm，需要保证当前的源时是npm。</p> <div class="language-ls extra-class"><pre class="language-text"><code>nrm ls

  npm -------- https://registry.npmjs.org/
  yarn ------- https://registry.yarnpkg.com/
  cnpm ------- http://r.cnpmjs.org/
* taobao ----- https://registry.npm.taobao.org/
  nj --------- https://registry.nodejitsu.com/
  npmMirror -- https://skimdb.npmjs.com/registry/
  edunpm ----- http://registry.enpmjs.org/
</code></pre></div><p>切换源</p> <div class="language- extra-class"><pre class="language-text"><code>nrm use npm
</code></pre></div><p>2.使用npm login 登录</p> <p>这里需要注意的是，密码是密文，不会显示。</p> <div class="language- extra-class"><pre class="language-text"><code>PS E:\vue封装组件\ch-ui&gt; npm login
Username: **********
Password:
Email: (this IS public) **********
</code></pre></div><p>3.使用npm publish命令直接发布到npm上</p> <p>12.8测试npm上传结果</p> <p>1.进入npm官网直接搜索name属性指定的包名就可以找到了</p> <p><img src="https://img-blog.csdnimg.cn/20200328181614235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpYW93ZWlfMjAxNg==,size_16,color_FFFFFF,t_70" alt="img"></p> <p>2.将组件库下载到本地项目中</p> <p>在项目路径下，终端中输入npm add ch-ui-weizhuren，将我们上传的包下载下来我们就可以在项目的node——modules路径下找到这个包了。</p> <p><img src="https://img-blog.csdnimg.cn/20200328182356409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpYW93ZWlfMjAxNg==,size_16,color_FFFFFF,t_70" alt="img"></p> <p>3.使用ch-ui</p> <p>在main.js中导入组件和组件依赖的样式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> chUI <span class="token keyword">from</span> <span class="token string">'ch-ui-weizhuren'</span>
<span class="token keyword">import</span> <span class="token string">'ch-ui-weizhuren/dist/ch-ui-upload.css'</span>
 
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>chUI<span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><p>我们在App.vue中使用组件，查看是否可行</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ch-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确认<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ch-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.7890f91e.js" defer></script><script src="/docs/assets/js/2.a8bc3a53.js" defer></script><script src="/docs/assets/js/25.9c3e07da.js" defer></script>
  </body>
</html>
