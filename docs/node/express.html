<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>express | 我的笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/docs/assets/css/0.styles.52bb2005.css" as="style"><link rel="preload" href="/docs/assets/js/app.7890f91e.js" as="script"><link rel="preload" href="/docs/assets/js/2.a8bc3a53.js" as="script"><link rel="preload" href="/docs/assets/js/43.1a427e6d.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.6d1a44dc.js"><link rel="prefetch" href="/docs/assets/js/11.88b33277.js"><link rel="prefetch" href="/docs/assets/js/12.d888dad3.js"><link rel="prefetch" href="/docs/assets/js/13.f4b320f4.js"><link rel="prefetch" href="/docs/assets/js/14.affc25d2.js"><link rel="prefetch" href="/docs/assets/js/15.f3f21810.js"><link rel="prefetch" href="/docs/assets/js/16.20cfbcd3.js"><link rel="prefetch" href="/docs/assets/js/17.8fa60e8f.js"><link rel="prefetch" href="/docs/assets/js/18.220db854.js"><link rel="prefetch" href="/docs/assets/js/19.c6db72e7.js"><link rel="prefetch" href="/docs/assets/js/20.121df49a.js"><link rel="prefetch" href="/docs/assets/js/21.b9b44369.js"><link rel="prefetch" href="/docs/assets/js/22.a7d81dee.js"><link rel="prefetch" href="/docs/assets/js/23.05a4db07.js"><link rel="prefetch" href="/docs/assets/js/24.0e35ee22.js"><link rel="prefetch" href="/docs/assets/js/25.9c3e07da.js"><link rel="prefetch" href="/docs/assets/js/26.6dcfef0f.js"><link rel="prefetch" href="/docs/assets/js/27.6ad8c329.js"><link rel="prefetch" href="/docs/assets/js/28.6b5d3991.js"><link rel="prefetch" href="/docs/assets/js/29.407c6de9.js"><link rel="prefetch" href="/docs/assets/js/3.3ddcfe9a.js"><link rel="prefetch" href="/docs/assets/js/30.34551e96.js"><link rel="prefetch" href="/docs/assets/js/31.47783344.js"><link rel="prefetch" href="/docs/assets/js/32.c6f4cea4.js"><link rel="prefetch" href="/docs/assets/js/33.03d5e501.js"><link rel="prefetch" href="/docs/assets/js/34.0ca4e267.js"><link rel="prefetch" href="/docs/assets/js/35.e999eeee.js"><link rel="prefetch" href="/docs/assets/js/36.544af633.js"><link rel="prefetch" href="/docs/assets/js/37.9e0cc013.js"><link rel="prefetch" href="/docs/assets/js/38.1c3df97c.js"><link rel="prefetch" href="/docs/assets/js/39.9ce8a5f7.js"><link rel="prefetch" href="/docs/assets/js/4.72d66176.js"><link rel="prefetch" href="/docs/assets/js/40.323e7e25.js"><link rel="prefetch" href="/docs/assets/js/41.9440b8ee.js"><link rel="prefetch" href="/docs/assets/js/42.959d789d.js"><link rel="prefetch" href="/docs/assets/js/44.9adaa5b6.js"><link rel="prefetch" href="/docs/assets/js/45.b70993ab.js"><link rel="prefetch" href="/docs/assets/js/46.bc570f17.js"><link rel="prefetch" href="/docs/assets/js/47.954dd27f.js"><link rel="prefetch" href="/docs/assets/js/48.72d2a29d.js"><link rel="prefetch" href="/docs/assets/js/49.7ddfd074.js"><link rel="prefetch" href="/docs/assets/js/5.5087e4f8.js"><link rel="prefetch" href="/docs/assets/js/50.2684a6e6.js"><link rel="prefetch" href="/docs/assets/js/51.00572c60.js"><link rel="prefetch" href="/docs/assets/js/52.5a70be73.js"><link rel="prefetch" href="/docs/assets/js/53.9f6156b6.js"><link rel="prefetch" href="/docs/assets/js/54.9efed889.js"><link rel="prefetch" href="/docs/assets/js/55.78300585.js"><link rel="prefetch" href="/docs/assets/js/56.e33be804.js"><link rel="prefetch" href="/docs/assets/js/57.0c404d88.js"><link rel="prefetch" href="/docs/assets/js/58.2f99406b.js"><link rel="prefetch" href="/docs/assets/js/59.b7a3347e.js"><link rel="prefetch" href="/docs/assets/js/6.7a9273f7.js"><link rel="prefetch" href="/docs/assets/js/60.f14f3fe9.js"><link rel="prefetch" href="/docs/assets/js/61.f770fcc5.js"><link rel="prefetch" href="/docs/assets/js/62.9a22eb9a.js"><link rel="prefetch" href="/docs/assets/js/63.94b2ea39.js"><link rel="prefetch" href="/docs/assets/js/64.e2bf811b.js"><link rel="prefetch" href="/docs/assets/js/65.74d494f9.js"><link rel="prefetch" href="/docs/assets/js/66.a375bb32.js"><link rel="prefetch" href="/docs/assets/js/67.3c201101.js"><link rel="prefetch" href="/docs/assets/js/68.f2c6c1f4.js"><link rel="prefetch" href="/docs/assets/js/69.268faa44.js"><link rel="prefetch" href="/docs/assets/js/7.1a3a696f.js"><link rel="prefetch" href="/docs/assets/js/70.6f4df6a6.js"><link rel="prefetch" href="/docs/assets/js/71.37964dc5.js"><link rel="prefetch" href="/docs/assets/js/72.eef27e2e.js"><link rel="prefetch" href="/docs/assets/js/73.d7a9dbd9.js"><link rel="prefetch" href="/docs/assets/js/74.f2040aa6.js"><link rel="prefetch" href="/docs/assets/js/75.9f939c37.js"><link rel="prefetch" href="/docs/assets/js/76.b1358302.js"><link rel="prefetch" href="/docs/assets/js/77.83a2c6b3.js"><link rel="prefetch" href="/docs/assets/js/78.34149b3d.js"><link rel="prefetch" href="/docs/assets/js/79.fde21713.js"><link rel="prefetch" href="/docs/assets/js/8.9fb3aa96.js"><link rel="prefetch" href="/docs/assets/js/80.6461e24e.js"><link rel="prefetch" href="/docs/assets/js/81.e6c53d45.js"><link rel="prefetch" href="/docs/assets/js/82.19506b41.js"><link rel="prefetch" href="/docs/assets/js/83.b39f337e.js"><link rel="prefetch" href="/docs/assets/js/84.6dae4be4.js"><link rel="prefetch" href="/docs/assets/js/85.862470ad.js"><link rel="prefetch" href="/docs/assets/js/86.6121868f.js"><link rel="prefetch" href="/docs/assets/js/87.7c0c10bf.js"><link rel="prefetch" href="/docs/assets/js/88.24fd0017.js"><link rel="prefetch" href="/docs/assets/js/9.24bd0981.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.52bb2005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">我的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/javascrip/" class="nav-link">
  JavaScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/typescrip/" class="nav-link">
  TypeScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/hook/" class="nav-link">
  Hook
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/docs/node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/j2ee/" class="nav-link">
  J2EE
</a></li><li class="dropdown-item"><!----> <a href="/docs/ssm/" class="nav-link">
  SSM
</a></li></ul></div></div><div class="nav-item"><a href="/docs/efficiency/1.常用网站.html" class="nav-link">
  随记
</a></div><div class="nav-item"><a href="/docs/collection/1.立即执行函数.html" class="nav-link">
  收藏
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/javascrip/" class="nav-link">
  JavaScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/typescrip/" class="nav-link">
  TypeScrip
</a></li><li class="dropdown-item"><!----> <a href="/docs/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/hook/" class="nav-link">
  Hook
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/docs/node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/docs/j2ee/" class="nav-link">
  J2EE
</a></li><li class="dropdown-item"><!----> <a href="/docs/ssm/" class="nav-link">
  SSM
</a></li></ul></div></div><div class="nav-item"><a href="/docs/efficiency/1.常用网站.html" class="nav-link">
  随记
</a></div><div class="nav-item"><a href="/docs/collection/1.立即执行函数.html" class="nav-link">
  收藏
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/node/" aria-current="page" class="sidebar-link">node基础</a></li><li><a href="/docs/node/express.html" aria-current="page" class="active sidebar-link">express</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/node/express.html#入门" class="sidebar-link">入门</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#公开访问静态资源" class="sidebar-link">公开访问静态资源</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#获取请求参数" class="sidebar-link">获取请求参数</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#热加载" class="sidebar-link">热加载</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#post请求" class="sidebar-link">post请求</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#在express中配置模板引擎" class="sidebar-link">在express中配置模板引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/node/express.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#使用模板引擎渲染页面" class="sidebar-link">使用模板引擎渲染页面</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#解析post请求体" class="sidebar-link">解析post请求体</a></li><li class="sidebar-sub-header"><a href="/docs/node/express.html#整个项目" class="sidebar-link">整个项目</a></li></ul></li><li><a href="/docs/node/mongodb.html" class="sidebar-link">mongodb</a></li><li><a href="/docs/node/mongoose.html" class="sidebar-link">mongoose</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="入门"><a href="#入门" class="header-anchor">#</a> 入门</h2> <p><strong>安装</strong></p> <div class="language- extra-class"><pre class="language-text"><code>npm install express --save
</code></pre></div><p><strong>创建服务</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token comment">// 创建服务器程序</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 监听get请求</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello express'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 监听端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'app is runing at port:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="公开访问静态资源"><a href="#公开访问静态资源" class="header-anchor">#</a> 公开访问静态资源</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 公开指定目录</span>
<span class="token comment">// 只要带上/public/就会访问./public/目录</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public/'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>能直接访问public下的index.html</p> <div class="language- extra-class"><pre class="language-text"><code>http://localhost:3000/public/index.html
</code></pre></div><p><strong>可以设置多个目录</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 公开指定目录</span>
<span class="token comment">// 只要带上/public/就会访问./public/目录</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public/'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/static/'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./static/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>完整代码</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token comment">// 创建服务器程序</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 公开指定目录</span>
<span class="token comment">// 只要带上/public/就会访问./public/目录</span>
<span class="token comment">// 如果没有第一个参数，访问的时候不需要加/public/</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public/'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 监听get请求</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello express'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 监听端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'app is runing at port:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="获取请求参数"><a href="#获取请求参数" class="header-anchor">#</a> 获取请求参数</h2> <p><strong>参数在query中</strong></p> <div class="language- extra-class"><pre class="language-text"><code>app.get('/home',(req,resp)=&gt;{
    const {username,password} = req.query
    console.log(username,password);
    resp.send('hello express')
})
</code></pre></div><p><strong>访问</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>浏览器访问
http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>home<span class="token operator">?</span>username<span class="token operator">=</span>admin<span class="token operator">&amp;&amp;</span>password<span class="token operator">=</span><span class="token number">123</span>
输出
admin <span class="token number">123</span>
</code></pre></div><h2 id="热加载"><a href="#热加载" class="header-anchor">#</a> 热加载</h2> <p>修改代码后自动加载</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> --global nodemon
</code></pre></div><p>启动命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code>nodemon aa.js
</code></pre></div><h2 id="post请求"><a href="#post请求" class="header-anchor">#</a> post请求</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// post请求</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'post请求'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="在express中配置模板引擎"><a href="#在express中配置模板引擎" class="header-anchor">#</a> 在express中配置模板引擎</h2> <h3 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h3> <p><strong>安装依赖</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code> <span class="token function">npm</span> <span class="token function">install</span> --save art-template
 <span class="token function">npm</span> <span class="token function">install</span> --save express-art-template
</code></pre></div><p><strong>配置</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//配置使用art-template模板引擎</span>
<span class="token comment">// 第一个参数指定后缀html,art</span>
app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-art-template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>使用</strong></p> <p>- 将会返回view下的index.html文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Express 为response提供一个render方法</span>
<span class="token comment">// render 方法默认是不能使用的，需要配置模板引擎</span>
<span class="token comment">// 第一个参数不能写路径，默认会去项目中的views中查找该模板文件</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="使用模板引擎渲染页面"><a href="#使用模板引擎渲染页面" class="header-anchor">#</a> 使用模板引擎渲染页面</h3> <p><img src="data:image/png;base64,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" alt="img"></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ title }}管理系统<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ title }}管理系统<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>渲染页面</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/admin'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'admin/index.html'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span><span class="token string">'学生'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>效果</strong></p> <p>![img](file:///C:/Users/admin/Documents/My Knowledge/temp/11badc87-8d64-4135-a2d1-fd6f60ab1497/128/index_files/1f5d5266-c934-433f-8f41-4076f19b9dcd.png)</p> <p><strong>如果想修改默认view渲染目录</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//修改默认路径</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span>目录路径<span class="token punctuation">)</span>
</code></pre></div><h2 id="解析post请求体"><a href="#解析post请求体" class="header-anchor">#</a> 解析post请求体</h2> <p><strong>默认情况下不能解析post请求体(表单)数据</strong></p> <p>![img](file:///C:/Users/admin/Documents/My Knowledge/temp/11badc87-8d64-4135-a2d1-fd6f60ab1497/128/index_files/5998519a-3937-451e-b2c6-fff32e67b189.png)</p> <p><strong>安装依赖</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i --save body-parser
</code></pre></div><p>1.配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token comment">// 配置 body-parser</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>extended<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// parse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>2.使用</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/pos'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//通过body获取请求体数据</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="整个项目"><a href="#整个项目" class="header-anchor">#</a> 整个项目</h2> <p><strong>1.初始化package</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> init -y
</code></pre></div><p><strong>2.引入依赖</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// express模块</span>
npm install express <span class="token operator">--</span>save
<span class="token comment">// 模板引擎</span>
npm install <span class="token operator">--</span>save art<span class="token operator">-</span>template
npm install <span class="token operator">--</span>save express<span class="token operator">-</span>art<span class="token operator">-</span>template
<span class="token comment">// 表单数据获取</span>
npm i <span class="token operator">--</span>save body<span class="token operator">-</span>parser
<span class="token comment">// 合成一句</span>
npm i express art<span class="token operator">-</span>template express<span class="token operator">-</span>art<span class="token operator">-</span>template body<span class="token operator">-</span>parser <span class="token operator">--</span>save
</code></pre></div><p><strong>3.新建文件和目录</strong></p> <p><img src="data:image/png;base64,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" alt="img"></p> <ul><li><p>public 存放静态资源js,图片,css等等</p></li> <li><p>views 存放视图资源</p></li> <li><p>app.js 入口文件</p></li> <li><p>router.js 路由提取</p></li></ul> <p><strong>4.新建app.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 配置静态资源路径</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/node_modules'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./node_modules/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public/'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 配置模板引擎</span>
app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-art-template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 配置 body-parser</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span>extended<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 挂载路由容器到app服务中</span>
<span class="token comment">// 配置模板引擎和body-parser一定要挂载路由之前</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
<span class="token comment">// 监听端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'running 3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>5.新建router.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 专门用来包装路由</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token comment">// 创建路由容器</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/student'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>resp</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    resp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello student'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 把路由导出</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/node/" class="prev router-link-active">
        node基础
      </a></span> <span class="next"><a href="/docs/node/mongodb.html">
        mongodb
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.7890f91e.js" defer></script><script src="/docs/assets/js/2.a8bc3a53.js" defer></script><script src="/docs/assets/js/43.1a427e6d.js" defer></script>
  </body>
</html>
