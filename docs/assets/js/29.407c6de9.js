(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{648:function(t,s,a){t.exports=a.p+"assets/img/1622983407308.5ad85167.png"},649:function(t,s,a){t.exports=a.p+"assets/img/1622984999114.2e2db37c.png"},650:function(t,s,a){t.exports=a.p+"assets/img/1622985490162.69465b75.png"},651:function(t,s,a){t.exports=a.p+"assets/img/1622984408437.d8dffae9.png"},652:function(t,s,a){t.exports=a.p+"assets/img/1622984871239.89033deb.png"},653:function(t,s,a){t.exports=a.p+"assets/img/1622985181193.a37c50ba.png"},654:function(t,s){t.exports="data:image/png;base64,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"},997:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"ci"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ci"}},[t._v("#")]),t._v(" CI")]),t._v(" "),n("p",[t._v("2.实例二")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 触发条件 当src下文件改动->push到master分支才会触发")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" src/*\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 触发的任务")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 任务名，可以随意命名")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置运行环境")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行步骤")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo hello               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行shell 命令(打印hello)")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v2     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# clone代码(下载代码)")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/setup"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node@v2   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定nodejs")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node-version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'14'")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置node版本  ")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行shell命令")]),t._v("\n          npm install \n          npm run build "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("present  \n          npm test \n")])])]),n("p",[t._v("问题：为啥actions/checkout@v1就能下载代码")]),t._v(" "),n("p",[t._v("github的actions https://github.com/actions")]),t._v(" "),n("p",[t._v("打开仓库")]),t._v(" "),n("p",[n("img",{attrs:{src:a(648),alt:"1622983407308"}})]),t._v(" "),n("p",[t._v("用法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(649),alt:"1622984999114"}})]),t._v(" "),n("p",[t._v("github默认安装了环境")]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        echo $PATH\n        node -v\n        npm -v\n        python --version\n        java -version\n        go version\n        mvn -version\n        docker version\n        docker-compose -v\n        git version")]),t._v("\n")])])]),n("p",[t._v("运行结果")]),t._v(" "),n("p",[n("img",{attrs:{src:a(650),alt:"1622985490162"}})]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定运行环境")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置docker")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定node镜像")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v1 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下载代码")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        node -v")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(651),alt:"1622984408437"}})]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定运行环境")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定服务器")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nginx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定镜像")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8080"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v1 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下载代码")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        node -v\n        curl localhost:8080     ")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 访问8080")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(652),alt:"1622984871239"}})]),t._v(" "),n("p",[t._v("设置secret用来读取")]),t._v(" "),n("p",[t._v("setting->secrets")]),t._v(" "),n("p",[n("img",{attrs:{src:a(653),alt:"1622985181193"}})]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("  \n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定运行环境")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v1 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下载代码")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 读取secret: secrets.设置的secrete")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        echo ${{ secrets.MYSECRET }}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(654),alt:"1622985410927"}})]),t._v(" "),n("p",[t._v("CD")]),t._v(" "),n("p",[t._v("启动docker")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("systemctl start docker\n")])])]),n("p",[t._v("安装nginx镜像")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("docker pull nginx\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看镜像")]),t._v("\ndocker images\n")])])]),n("p",[t._v("配置Dockerfile")]),t._v(" "),n("div",{staticClass:"language-dockerfile extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Dockerfile")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# FROM 设置基础镜像")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MAINTAINER 作者(随便写)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# COPY 将dist文件夹下面的内容拷贝到/usr/share/nginx/html/这个目录")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" nginx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MAINTAINER")]),t._v(" xx\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" dist/ /usr/share/nginx/html/ \n")])])]),n("p",[t._v("创建镜像")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker build -t 打包后的镜像名 .")]),t._v("\ndocker build -t docs "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看镜像")]),t._v("\ndocker images\n\n")])])]),n("p",[t._v("运行")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -d --name xx -p 8848:80 xxx")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -d：代表后台启动")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --name xx：这是创建的容器名称")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -p 8848:80: 是将nginx的80映射到你服务器的8848端口(注意你服务器的端口是否开放8848，其他端口也可以)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# xxx：是刚刚创建的镜像名称")]),t._v("\ndocker run -d --name docs1 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8001")]),t._v(":80 docs\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止运行")]),t._v("\ndocker stop 7bb5427b2541\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);